{"version":3,"sources":["routes/Course/Lessons/DetailIntro/components/index.js"],"names":["Content","TabPane","antd_lib_tabs__WEBPACK_IMPORTED_MODULE_17___default","a","Intro","connect","_ref","intro","loading","models","state","isMobile","judgeIsMobile","_this","unregisterEnquire","enquireIsMobile","ismobile","setState","getOneCourseDetail","courseId","$$","getStore","resUrl","userRoleName","concat","props","dispatch","type","afterResponse","resp","data","payload","valueField","method","url","this","_this2","lessonInfo","courseInfo","react__WEBPACK_IMPORTED_MODULE_20___default","createElement","antd_lib_layout__WEBPACK_IMPORTED_MODULE_19___default","className","antd_lib_row__WEBPACK_IMPORTED_MODULE_5___default","gutter","antd_lib_col__WEBPACK_IMPORTED_MODULE_7___default","span","antd_lib_card__WEBPACK_IMPORTED_MODULE_9___default","cover","alt","src","imgUrl","title","courseName","teacher","introduction","react_sticky__WEBPACK_IMPORTED_MODULE_22__","defaultActiveKey","renderTabBar","DefaultTabBar","bottomOffset","_ref2","style","Object","assign","D_reactProject_itsp_tmp_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_10__","zIndex","tab","key","antd_lib_list__WEBPACK_IMPORTED_MODULE_1___default","itemLayout","dataSource","renderItem","item","index","Item","antd_lib_tag__WEBPACK_IMPORTED_MODULE_3___default","color","courseTopic","courseRemarks","herf","onClick","_","setStore","perCourseId","history","replace","BaseComponent"],"mappings":"6dASOA,cACDC,EAAUC,EAAAC,EAAKF,QAMAG,EAJpBC,kBAAQ,SAAAC,GAAA,MAAuB,CAC9BC,MADOD,EAAEC,MAETC,QAFOF,EAASE,QAECC,OAAOF,sNAGxBG,MAAM,CACJC,UAAU,KAQZC,cAAgB,WACdC,EAAKC,kBAAoBC,YAAgB,SAAAC,GACpBH,EAAKH,MAAjBC,WACUK,GACfH,EAAKI,SAAS,CACZN,SAAUK,SAOlBE,mBAAqB,WACnB,IAAMC,EAAWC,IAAGC,SAAS,cAAcF,SACrCG,EAA+C,iBAArCF,IAAGC,SAAS,QAAQE,aAArB,gDAAAC,OACqCL,GADrC,gDAAAK,OAEqCL,GACpDN,EAAKY,MAAMC,SAAS,CAClBC,KAAM,iBACNC,cAAe,SAAAC,GAAI,OAAIA,EAAKC,MAC5BC,QAAS,CACPC,WAAY,aACZC,OAAQ,MACRC,IAAKZ,yFA3BTa,KAAKvB,gBACLuB,KAAKjB,sDA+BE,IAAAkB,EAAAD,KACAE,EAAcF,KAAKV,MAAMlB,MAAzB8B,WACA1B,EAAYwB,KAAKzB,MAAjBC,SACD2B,EAAalB,IAAGC,SAAS,cAS/B,OACEkB,EAAApC,EAAAqC,cAAAC,EAAAtC,EAAA,CAAQuC,UAAU,0BAChBH,EAAApC,EAAAqC,cAACxC,EAAD,KACEuC,EAAApC,EAAAqC,cAAAG,EAAAxC,EAAA,CAAKyC,OAAQ,IACTjC,GACF4B,EAAApC,EAAAqC,cAAAK,EAAA1C,EAAA,CAAK2C,KAAM,GACTP,EAAApC,EAAAqC,cAAAO,EAAA5C,EAAA,CACEuC,UAAU,UACVM,MACET,EAAApC,EAAAqC,cAAA,OACES,IAAI,YACJC,IAAKZ,EAAWa,YAMxBZ,EAAApC,EAAAqC,cAAAK,EAAA1C,EAAA,CAAK2C,KAAMnC,EAAU,EAAG,IACtB4B,EAAApC,EAAAqC,cAAAO,EAAA5C,EAAA,CACEuC,UAAW/B,EAAU,cAAc,wBACnCyC,MAAOd,EAAWe,YAElBd,EAAApC,EAAAqC,cAAA,2CAAUF,EAAWgB,SACpBhB,EAAWiB,gBAIlBhB,EAAApC,EAAAqC,cAACgB,EAAA,gBAAD,KACEjB,EAAApC,EAAAqC,cAAAtC,EAAAC,EAAA,CAAMuC,WAAY/B,GAAY,UAAW8C,iBAAiB,IAAIC,aApCjD,SAACjC,EAAOkC,GAAR,OACnBpB,EAAApC,EAAAqC,cAACgB,EAAA,OAAD,CAAQI,aAAc,IACnB,SAAAC,GAAA,IAAGC,EAAHD,EAAGC,MAAH,OACCvB,EAAApC,EAAAqC,cAACmB,EAADI,OAAAC,OAAA,GAAmBvC,EAAnB,CAA0BqC,MAAKC,OAAAE,EAAA,EAAAF,CAAA,GAAOD,EAAP,CAAcI,OAAQ,WAkCjD3B,EAAApC,EAAAqC,cAACvC,EAAD,CAASkE,IAAI,eAAKC,IAAI,KACpB7B,EAAApC,EAAAqC,cAAA6B,EAAAlE,EAAA,CACEmE,WAAW,aACXC,WAAYlC,EACZmC,WAAY,SAACC,EAAMC,GAAP,OACVnC,EAAApC,EAAAqC,cAAA6B,EAAAlE,EAAMwE,KAAN,KACEpC,EAAApC,EAAAqC,cAAAoC,EAAAzE,EAAA,CAAK0E,MAAM,UAAUH,EAAM,GAD7B,KAEMD,EAAKK,YAAaL,EAAKM,cAF7B,KAIExC,EAAApC,EAAAqC,cAAA,KAAGwC,KAAK,eAAetC,UAAW/B,EAAU,IAAM,cAAesE,QAAS,SAAAC,GAC5E9D,IAAG+D,SAAS,cAAeV,EAAKW,aAChChD,EAAKiD,QAAQC,QAAQ,yBAFnB,gCAxFaC","file":"static/js/12.4e4aac24.chunk.js","sourcesContent":["import React from 'react';\r\nimport {connect} from 'dva';\r\nimport {Layout, Card, Row, Col, Tabs, List, Tag} from 'antd';\r\nimport { StickyContainer, Sticky } from 'react-sticky';\r\nimport BaseComponent from 'components/BaseComponent';\r\nimport $$ from 'cmn-utils'\r\nimport './index.less'\r\nimport {enquireIsMobile} from '@/utils/enquireScreen';\r\n\r\nconst {Content} = Layout;\r\nconst TabPane = Tabs.TabPane;\r\n\r\n@connect(({intro, loading}) => ({\r\n  intro,\r\n  loading: loading.models.intro\r\n}))  //dva connect\r\nexport default class Intro extends BaseComponent {\r\n  state={\r\n    isMobile: false\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.judgeIsMobile()\r\n    this.getOneCourseDetail()\r\n  }\r\n  //判断是否是手机\r\n  judgeIsMobile = () => {\r\n    this.unregisterEnquire = enquireIsMobile(ismobile => {\r\n      const {isMobile} = this.state;\r\n      if (isMobile !== ismobile) {\r\n        this.setState({\r\n          isMobile: ismobile\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  //获取指定课程详细信息\r\n  getOneCourseDetail = () => {\r\n    const courseId = $$.getStore('lessonItem').courseId\r\n    const resUrl = ($$.getStore('user').userRoleName === \"学生\")\r\n      ? `http://59.67.107.169:8010/api/student/course/${courseId}`\r\n      : `http://59.67.107.169:8010/api/teacher/course/${courseId}`\r\n    this.props.dispatch({\r\n      type: 'intro/@request',\r\n      afterResponse: resp => resp.data,\r\n      payload: {\r\n        valueField: 'lessonInfo',\r\n        method: 'GET',\r\n        url: resUrl\r\n      }\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const {lessonInfo} = this.props.intro\r\n    const {isMobile} = this.state\r\n    const courseInfo = $$.getStore('lessonItem')\r\n    const renderTabBar = (props, DefaultTabBar) => (\r\n      <Sticky bottomOffset={80}>\r\n        {({ style }) => (\r\n          <DefaultTabBar {...props} style={{ ...style, zIndex: 1}} />\r\n        )}\r\n      </Sticky>\r\n    )\r\n\r\n    return (\r\n      <Layout className=\"full-layout intro-page\">\r\n        <Content>\r\n          <Row gutter={0}>\r\n            {!isMobile &&\r\n            <Col span={8}>\r\n              <Card\r\n                className='imgCard'\r\n                cover={\r\n                  <img\r\n                    alt=\"courseImg\"\r\n                    src={courseInfo.imgUrl}\r\n                  />\r\n                }\r\n              />\r\n            </Col>\r\n            }\r\n            <Col span={isMobile? 8: 16}>\r\n              <Card\r\n                className={isMobile? 'contentCard':'contentCard___desktop'}\r\n                title={courseInfo.courseName}\r\n              >\r\n                <h2>课程教师：{courseInfo.teacher}</h2>\r\n                {courseInfo.introduction}\r\n              </Card>\r\n            </Col>\r\n          </Row>\r\n          <StickyContainer>\r\n            <Tabs className={!isMobile && 'tabList'} defaultActiveKey=\"2\" renderTabBar={renderTabBar}>\r\n              <TabPane tab=\"目录\" key=\"2\">\r\n                <List\r\n                  itemLayout=\"horizontal\"\r\n                  dataSource={lessonInfo}\r\n                  renderItem={(item, index) => (\r\n                    <List.Item>\r\n                      <Tag color=\"purple\">{index+1}</Tag>\r\n                       | {item.courseTopic}{item.courseRemarks} |\r\n\r\n                      <a herf=\"javascript:;\" className={isMobile? 'a' : 'a___desktop'} onClick={_ => {\r\n                    $$.setStore('perCourseId', item.perCourseId);\r\n                    this.history.replace('/column/per/comment')\r\n                  }\r\n                  }>讨论</a>\r\n                    </List.Item>\r\n                  )}\r\n                />\r\n              </TabPane>\r\n              {/*<TabPane tab=\"简介\" key=\"1\" style={{ height: 200 }}>*/}\r\n                {/*{courseInfo.introduction}*/}\r\n              {/*</TabPane>*/}\r\n            </Tabs>\r\n          </StickyContainer>\r\n        </Content>\r\n      </Layout>\r\n    );\r\n  }\r\n}\r\n"],"sourceRoot":""}