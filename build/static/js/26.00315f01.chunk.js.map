{"version":3,"sources":["routes/HomeWork/Preview/components/index.js","components/Panel/Panel.js"],"names":["Content","TextArea","Option","antd_lib_select__WEBPACK_IMPORTED_MODULE_20___default","a","Preview","connect","_ref","preview","loading","models","login","props","_this","Object","D_reactProject_itsp_tmp_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_14__","this","D_reactProject_itsp_tmp_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_16__","D_reactProject_itsp_tmp_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_17__","call","state","inputValue","PDF_URL","stuWork","fileComment","onChange","value","setState","fetchAllCourse","dispatch","type","afterResponse","resp","data","payload","valueField","method","url","fetchCourseInfo","console","log","concat","fetchStuInfo","displayHomework","option","Number","split","perCourseId","userId","changeFileComment","e","fileCommentInput","focus","target","subComment","_this$state","code","antd_lib_message__WEBPACK_IMPORTED_MODULE_13___default","success","message","error","fileScore","history","push","_this2","_this$state2","checked","_this$props$preview","courseInfo","courseTimeInfo","stuInfo","marks","0","60","style","color","label","react__WEBPACK_IMPORTED_MODULE_25___default","createElement","80","100","antd_lib_layout__WEBPACK_IMPORTED_MODULE_24___default","className","antd_lib_row__WEBPACK_IMPORTED_MODULE_9___default","gutter","antd_lib_col__WEBPACK_IMPORTED_MODULE_1___default","md","components_Panel_Panel__WEBPACK_IMPORTED_MODULE_29__","title","placeholder","map","d","key","courseId","courseName","courseDate","courseTime","courseTopic","fileUrl","disabled","substring","lastIndexOf","length","studentName","textAlign","antd_lib_slider__WEBPACK_IMPORTED_MODULE_11___default","antd_lib_tag__WEBPACK_IMPORTED_MODULE_7___default","antd_lib_input_number__WEBPACK_IMPORTED_MODULE_5___default","id","min","max","marginLeft","autosize","minRows","ref","node","antd_lib_button__WEBPACK_IMPORTED_MODULE_3___default","onClick","src","seamless","frameBorder","scrolling","name","BaseComponent","confirm","antd_lib_modal__WEBPACK_IMPORTED_MODULE_9___default","Panel","D_reactProject_itsp_tmp_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_3__","D_reactProject_itsp_tmp_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__","D_reactProject_itsp_tmp_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__","onExpand","expand","collapse","onCollapse","onRefresh","refresh","animationName","onClose","content","onOk","nextProps","st","keys","_this$props","theme","prefix","width","height","children","header","cover","scroll","classnames","cx","panel-fullscreen","panel-collapsed","styles","D_reactProject_itsp_tmp_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_2__","bodyStyles","overflow","Header","react__WEBPACK_IMPORTED_MODULE_10___default","_Icon__WEBPACK_IMPORTED_MODULE_11__","antd_lib_popconfirm__WEBPACK_IMPORTED_MODULE_1___default","onConfirm","placement","_CSSAnimate__WEBPACK_IMPORTED_MODULE_13__","callback","_","Component","defaultProps"],"mappings":"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","file":"static/js/26.00315f01.chunk.js","sourcesContent":["import React from 'react';\r\nimport {connect} from 'dva';\r\nimport {Layout, Row, Col, Slider, InputNumber, Input, Tag, Button, Select, message, Icon} from 'antd';\r\nimport BaseComponent from 'components/BaseComponent';\r\nimport './index.less';\r\nimport Panel from \"components/Panel/Panel\";\r\n\r\nconst {Content} = Layout;\r\nconst {TextArea} = Input;\r\nconst Option = Select.Option;\r\n\r\n\r\n@connect(({preview, loading}) => ({\r\n    preview,\r\n    loading: loading.models.login\r\n}))  //dva connect\r\nexport default class Preview extends BaseComponent {\r\n    state = {\r\n        inputValue: null,\r\n        PDF_URL: '',\r\n        stuWork: '',\r\n        fileComment: ''\r\n        // checked: []\r\n    };\r\n\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n\r\n    onChange = (value) => {\r\n        this.setState({\r\n            inputValue: value,\r\n        });\r\n    };\r\n\r\n    componentDidMount() {\r\n        this.fetchAllCourse()\r\n    }\r\n\r\n    //获取老师所教所有课程\r\n    fetchAllCourse = () => {\r\n        const {dispatch} = this.props;\r\n        dispatch({\r\n            type: 'preview/@request',\r\n            afterResponse: resp => resp.data,\r\n            payload: {\r\n                valueField: 'courseInfo',\r\n                method: 'GET',\r\n                url: 'http://59.67.107.169:8010/api/teacher/allCourseSelect'\r\n            }\r\n        });\r\n    };\r\n\r\n    //获取课程详细信息\r\n    fetchCourseInfo = (value) => {\r\n        console.log(`selected ${value}`);\r\n        const {dispatch} = this.props;\r\n        dispatch({\r\n            type: 'preview/@request',\r\n            afterResponse: resp => resp.data,\r\n            payload: {\r\n                valueField: 'courseTimeInfo',\r\n                method: 'GET',\r\n                url: 'http://59.67.107.169:8010/api/teacher/course/' + value\r\n            }\r\n        });\r\n    };\r\n\r\n    //获取学生作业名单\r\n    fetchStuInfo = (value) => {\r\n        console.log(`selected ${value}`);\r\n        const {dispatch} = this.props;\r\n        dispatch({\r\n            type: 'preview/@request',\r\n            afterResponse: resp => resp.data,\r\n            // afterResponse: (resp) => {\r\n            //     console.log(resp.data);\r\n            // },\r\n            payload: {\r\n                valueField: 'stuInfo',\r\n                method: 'GET',\r\n                url: 'http://59.67.107.169:8010/api/teacher/checkIn/' + value\r\n            }\r\n        });\r\n    };\r\n\r\n    //预览学生作业\r\n    displayHomework = (value, option) => {\r\n        console.log(option);\r\n        this.setState({\r\n            inputValue: Number(value.split('|')[1]),\r\n            fileComment: value.split('|')[4],\r\n            stuWork: {\r\n                \"PDF_URL\": value.split('|')[0],\r\n                \"perCourseId\": value.split('|')[2],\r\n                \"userId\": value.split('|')[3],\r\n            }\r\n        });\r\n    };\r\n\r\n    //清空\r\n    // emitEmpty = () => {\r\n    //     this.fileCommentInput.focus();\r\n    //     this.setState({ fileComment: '' });\r\n    // };\r\n\r\n    changeFileComment = (e) => {\r\n        this.fileCommentInput.focus();\r\n        this.setState({fileComment: e.target.value});\r\n        this.fileCommentInput.focus();\r\n    };\r\n\r\n    //提交分数以及评语\r\n    subComment = () => {\r\n        const {dispatch} = this.props;\r\n        const {stuWork, inputValue, fileComment} = this.state;\r\n        dispatch({\r\n            type: 'preview/@request',\r\n            afterResponse: resp => {\r\n                if (resp.code === 201) {\r\n                    message.success(resp.message);\r\n                } else {\r\n                    message.error(resp.message);\r\n                }\r\n                return resp.data;\r\n            },\r\n            payload: {\r\n                method: 'PUT',\r\n                url: 'http://59.67.107.169:8010/api/teacher/correct',\r\n                data: {\r\n                    \"perCourseId\": stuWork.perCourseId,\r\n                    \"userId\": stuWork.userId,\r\n                    \"fileScore\": inputValue,\r\n                    \"fileComment\": fileComment\r\n                }\r\n            },\r\n        });\r\n      // window.location.reload([true])\r\n      this.history.push('/blank')\r\n    };\r\n\r\n    render() {\r\n        const {checked, stuWork, inputValue, fileComment} = this.state;\r\n        const {courseInfo, courseTimeInfo, stuInfo} = this.props.preview;\r\n        const marks = {\r\n            0: '0分',\r\n            // 60: '60分',\r\n            60: {\r\n                style: {\r\n                    color: 'red',\r\n                },\r\n                label: <strong>60分</strong>,\r\n            },\r\n            80: {\r\n                style: {\r\n                    color: '#2db7f5',\r\n                },\r\n                label: <strong>80分</strong>,\r\n            },\r\n            100: {\r\n                style: {\r\n                    color: 'green',\r\n                },\r\n                label: <strong>100分</strong>,\r\n            },\r\n        };\r\n\r\n        return (\r\n            <Layout className=\"full-layout page preview-page\">\r\n                <Content>\r\n                    <Row gutter={26}>\r\n                        <Col md={8}>\r\n                            <Panel title=\"选择作业相关信息\">\r\n                                <Select\r\n                                    placeholder=\"请选择课程名称\"\r\n                                    // onMouseEnter={this.fetchAllCourse}\r\n                                    onChange={this.fetchCourseInfo}>\r\n                                    {courseInfo.map(d => <Option key={d.courseId}>{d.courseName}</Option>)}\r\n                                </Select>\r\n                                <Select\r\n                                    placeholder=\"请选择对应课程信息\"\r\n                                    onChange={this.fetchStuInfo}>\r\n                                    {courseTimeInfo.map(d => <Option\r\n                                        key={d.perCourseId}>{d.courseDate} {d.courseTime} {d.courseTopic}</Option>)}\r\n                                </Select>\r\n                                <Select placeholder=\"请选择学生\"\r\n                                    // value={checked}\r\n                                        onChange={this.displayHomework}>\r\n                                    {stuInfo.map(d => <Option\r\n                                        key={d.fileUrl + '|' + d.fileScore + '|' + d.perCourseId + '|' + d.userId + '|' + d.fileComment}\r\n                                        disabled={(d.fileUrl.substring(d.fileUrl.lastIndexOf('.'), d.fileUrl.length)) !== '.pdf' ? true : false }\r\n                                    >{d.studentName}{d.fileUrl.substring(d.fileUrl.lastIndexOf('.'), d.fileUrl.length)}</Option>)}\r\n                                </Select>\r\n                            </Panel>\r\n                            <Panel title=\"作业批改内容\" style={{textAlign: 'center'}}>\r\n                                <Row>\r\n                                    <div className=\"sliderDiv\">\r\n                                        <Slider\r\n                                            marks={marks}\r\n                                            value={typeof inputValue === \"number\" ? inputValue : 0}\r\n                                            onChange={this.onChange}\r\n                                        />\r\n                                    </div>\r\n                                </Row>\r\n                                <Row>\r\n                                    <Tag color=\"#2db7f5\">分数：</Tag>\r\n                                    <InputNumber\r\n                                        id=\"inputScore\"\r\n                                        min={0}\r\n                                        max={100}\r\n                                        style={{marginLeft: 0}}\r\n                                        value={inputValue}\r\n                                        onChange={this.onChange}\r\n                                    />\r\n                                </Row>\r\n                                <Row>\r\n                                    <TextArea\r\n                                        autosize={{minRows: 4}}\r\n                                        className=\"commentInput\"\r\n                                        placeholder=\"请输入作业评语！\"\r\n                                        value={fileComment}\r\n                                        onChange={this.changeFileComment}\r\n                                        ref={node => this.fileCommentInput = node}\r\n                                    />\r\n                                </Row>\r\n                                <Row>\r\n                                    <Button onClick={this.subComment}>提交</Button>\r\n                                </Row>\r\n                            </Panel>\r\n                        </Col>\r\n                        <Col md={16}>\r\n                            <Panel title=\"作业预览\">\r\n                                <iframe\r\n                                    src={stuWork.PDF_URL}\r\n                                    seamless=\"seamless\"\r\n                                    frameBorder=\"0\"\r\n                                    scrolling=\"no\"\r\n                                    name=\"pdf_show\"\r\n                                    id=\"iframe_pdf\"\r\n                                >\r\n                                </iframe>\r\n                                {/*</div>*/}\r\n                            </Panel>\r\n                        </Col>\r\n                    </Row>\r\n                </Content>\r\n            </Layout>\r\n\r\n        );\r\n    }\r\n}\r\n","import React, { Component } from 'react';\nimport Icon from '../Icon';\nimport cx from 'classnames';\nimport CSSAnimate from '../CSSAnimate';\nimport { Popconfirm, Modal } from 'antd';\nimport './style/index.less';\nconst confirm = Modal.confirm;\nconst noop = _ => {};\n/**\n * 面板组件\n */\nclass Panel extends Component {\n  static defaultProps = {\n    prefix: 'antui-panel'\n  };\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      collapse: props.collapse || false,\n      expand: props.expand || false,\n      refresh: 0,\n      animationName: ''\n    };\n  }\n\n  componentWillReceiveProps(nextProps) {\n    const st = {};\n    if ('collapse' in nextProps) {\n      st.collapse = true;\n    } else if ('expand' in nextProps) {\n      st.expand = true;\n    }\n    if (Object.keys(st).length) {\n      this.setState(st);\n    }\n  }\n\n  onExpand = expand => e => {\n    const { onChange } = this.props;\n\n    this.setState({\n      expand,\n      collapse: false\n    });\n\n    if (onChange) {\n      onChange({\n        expand,\n        collapse: false\n      });\n    }\n  };\n\n  onCollapse = collapse => e => {\n    const { onChange } = this.props;\n\n    this.setState({\n      collapse,\n      expand: false\n    });\n\n    if (onChange) {\n      onChange({\n        collapse,\n        expand: false\n      });\n    }\n  };\n\n  onRefresh = () => {\n    this.setState({\n      refresh: this.state.refresh + 1,\n      animationName: 'fadeIn'\n    });\n    this.props.onRefresh && this.props.onRefresh();\n  };\n\n  onClose = () => {\n    const { expand } = this.state;\n    if (expand) {\n      confirm({\n        title: '提示',\n        content: '您确认要关闭这个面板？',\n        onOk: () => {\n          this.props.onClose && this.props.onClose();\n        }\n      });\n    } else {\n      this.props.onClose && this.props.onClose();\n    }\n  };\n\n  render() {\n    const { expand, collapse, refresh, animationName } = this.state;\n    const {\n      theme,\n      prefix,\n      className,\n      title,\n      width,\n      height,\n      style,\n      children,\n      header,\n      cover,\n      scroll,\n    } = this.props;\n\n    const classnames = cx(prefix, className, {\n      theme: !!theme,\n      'panel-fullscreen': !!expand,\n      'panel-collapsed': !!collapse,\n      cover: !!cover\n    });\n\n    const styles = {\n      ...style,\n      width\n    };\n    const bodyStyles = {};\n    if (!expand) {\n      bodyStyles.height = height;\n    }\n    if (scroll) {\n      bodyStyles.overflow = 'auto';\n    }\n\n    const Header =\n      typeof header === 'undefined' ? (\n        <div className={`${prefix}-header`}>\n          <span className={`${prefix}-header-title`}>{title}</span>\n          <span className={`${prefix}-header-controls`}>\n            {/*<a className=\"panel-control-loader\" onClick={this.onRefresh}>*/}\n              {/*<Icon type=\"refresh\" />*/}\n            {/*</a>*/}\n            <a\n              className=\"panel-control-fullscreen\"\n              onClick={this.onExpand(expand ? false : true)}\n            >\n              <Icon type={`${expand ? 'shrink' : 'enlarge'}`} />\n            </a>\n            <a\n              className=\"panel-control-collapsed\"\n              onClick={this.onCollapse(collapse ? false : true)}\n            >\n              <Icon type={`${collapse ? 'plus' : 'minus'}`} />\n            </a>\n            <Popconfirm\n              title=\"您确认要关闭这个面板？\"\n              onConfirm={this.onClose}\n              placement=\"topRight\"\n            >\n              {/*<a*/}\n                {/*className=\"panel-control-remove\"*/}\n                {/*onClick={expand ? this.onClose : noop}*/}\n              {/*>*/}\n                {/*<Icon type=\"close\" />*/}\n              {/*</a>*/}\n            </Popconfirm>\n          </span>\n        </div>\n      ) : (\n        header\n      );\n\n    return (\n      <div className={classnames} style={styles}>\n        {Header}\n        <div className={`${prefix}-body`} style={bodyStyles}>\n          <CSSAnimate\n            className=\"panel-content\"\n            type={animationName}\n            callback={_ => this.setState({ animationName: '' })}\n            key={refresh}\n          >\n            {children}\n          </CSSAnimate>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Panel;\n"],"sourceRoot":""}