(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{1015:function(e,t,n){},1300:function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return U});n(878);var a,o=n(879),i=n.n(o),r=(n(767),n(769)),c=n.n(r),l=(n(349),n(234)),u=n.n(l),s=(n(171),n(49)),m=n.n(s),p=(n(339),n(38)),g=n.n(p),d=(n(749),n(750)),h=n.n(d),f=n(14),b=n(15),v=n(24),y=n(22),E=n(23),C=n(129),S=(n(112),n(113)),I=n.n(S),k=(n(796),n(797)),j=n.n(k),w=(n(338),n(784)),x=n.n(w),O=(n(78),n(31)),T=n.n(O),M=n(0),z=n.n(M),A=n(69),B=n(219),L=n(10),q=n.n(L),H=(n(1015),n(226)),J=T.a.Header,N=T.a.Content,P=T.a.Footer,D=(T.a.Sider,x.a.TextArea),F=function(e){var t=e.onChange,n=e.onSubmit,a=e.submitting,o=e.value;return z.a.createElement("div",null,z.a.createElement(j.a.Item,null,z.a.createElement(D,{rows:4,onChange:t,value:o})),z.a.createElement(j.a.Item,null,z.a.createElement(I.a,{htmlType:"submit",loading:a,onClick:n,type:"primary",style:{float:"right"}},"\u6dfb\u52a0\u7559\u8a00")))},U=Object(A.connect)()(a=function(e){function t(){var e,n;Object(f.a)(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(n=Object(v.a)(this,(e=Object(y.a)(t)).call.apply(e,[this].concat(o)))).state={commentInfo:[],visible:!1,submitting:!1,value:"",isMobile:!1},n.componentDidMount=function(){n.judgeIsMobile(),n.getComment()},n.judgeIsMobile=function(){n.unregisterEnquire=Object(H.a)(function(e){n.state.isMobile!==e&&n.setState({isMobile:e})})},n.goBack=function(){n.history.replace("/column/intro")},n.addTopic=function(){var e={topicPercourseId:q.a.getStore("perCourseId"),topicContent:n.state.value};q.a.post("http://192.168.43.191:8010/api/topic/publicTopic",e).then(function(e){"success"===e.icon?h.a.success(e.message):h.a.error(e.message)})},n.handleClick=function(){n.setState({visible:!0})},n.closeComment=function(){n.setState({visible:!1})},n.handleSubmit=function(){n.state.value&&(n.setState({submitting:!0}),n.addTopic(),setTimeout(function(){n.setState({submitting:!1,value:""}),n.getComment(),n.closeComment(Object(C.a)(Object(C.a)(n)))},1e3))},n.handleChange=function(e){n.setState({value:e.target.value})},n}return Object(E.a)(t,e),Object(b.a)(t,[{key:"getComment",value:function(){var e=this;q.a.get("http://192.168.43.191:8010/api/topic/queryByPerCourseId/".concat(q.a.getStore("perCourseId"))).then(function(t){return e.setState({commentInfo:t.data})}).catch(function(e){return console.log(e)})}},{key:"render",value:function(){var e=this,t=this.state,n=t.commentInfo,a=t.submitting,o=t.value,r=t.visible,l=t.isMobile;return z.a.createElement(T.a,{className:"full-layout per-comment-page"},z.a.createElement(J,{style:{color:"black"}},z.a.createElement(m.a,{theme:"dark",mode:"horizontal",style:{lineHeight:"64px"}},z.a.createElement(m.a.Item,null,z.a.createElement("div",{onClick:this.goBack},z.a.createElement(g.a,{type:"arrow-left",style:l?{color:"white",fontSize:"25px"}:{color:"white",fontSize:"25px",marginLeft:"50px",marginTop:"10px"}}),"\u8fd4\u56de\u8bfe\u7a0b\u4e3b\u9875")))),z.a.createElement(N,{style:{padding:"20px 50px"}},z.a.createElement("div",null,null===n?z.a.createElement("div",{style:{marginLeft:"20px"}},"\u6682\u65f6\u6ca1\u6709\u8bc4\u8bba"):z.a.createElement(c.a,{itemLayout:"horizontal",dataSource:n,renderItem:function(t){return z.a.createElement(c.a.Item,null,z.a.createElement(c.a.Item.Meta,{avatar:z.a.createElement(u.a,{src:t.userImg}),title:z.a.createElement("a",{href:"javascript:;",onClick:function(n){q.a.setStore("topicId",t.topicId),q.a.setStore("beforeUrl","/column/per/comment"),e.history.push("/column/per/community/intro")}},t.topicContent),description:t.topicCreatedTime}))}}),r&&z.a.createElement(i.a,{avatar:z.a.createElement(u.a,{src:q.a.getStore("user").userImg,alt:q.a.getStore("user").userName}),content:z.a.createElement(F,{onChange:this.handleChange,onSubmit:this.handleSubmit,submitting:a,value:o})}),z.a.createElement(I.a,{type:"primary",icon:"plus",style:{marginTop:"40px"},onClick:this.handleClick},"\u53d1\u5e03\u8bfe\u7a0b\u7559\u8a00"))),z.a.createElement(P,{style:{textAlign:"center"}}))}}]),t}(B.a))||a}}]);
//# sourceMappingURL=14.898c5145.chunk.js.map