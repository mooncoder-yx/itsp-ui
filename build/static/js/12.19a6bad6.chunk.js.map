{"version":3,"sources":["routes/Course/Lessons/DetailIntro/components/index.js"],"names":["Content","TabPane","antd_lib_tabs__WEBPACK_IMPORTED_MODULE_17___default","a","Intro","connect","_ref","intro","loading","models","state","isMobile","judgeIsMobile","_this","unregisterEnquire","enquireIsMobile","ismobile","setState","getOneCourseDetail","courseId","$$","getStore","resUrl","userRoleName","concat","props","dispatch","type","afterResponse","resp","data","payload","valueField","method","url","this","_this2","lessonInfo","courseInfo","react__WEBPACK_IMPORTED_MODULE_20___default","createElement","antd_lib_layout__WEBPACK_IMPORTED_MODULE_19___default","className","antd_lib_row__WEBPACK_IMPORTED_MODULE_5___default","gutter","antd_lib_col__WEBPACK_IMPORTED_MODULE_7___default","span","antd_lib_card__WEBPACK_IMPORTED_MODULE_9___default","cover","alt","src","imgUrl","title","courseName","teacher","introduction","react_sticky__WEBPACK_IMPORTED_MODULE_22__","defaultActiveKey","renderTabBar","DefaultTabBar","bottomOffset","_ref2","style","Object","assign","D_reactProject_itsp_tmp_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_10__","zIndex","tab","key","antd_lib_list__WEBPACK_IMPORTED_MODULE_1___default","itemLayout","dataSource","renderItem","item","index","Item","antd_lib_tag__WEBPACK_IMPORTED_MODULE_3___default","color","courseTopic","courseRemarks","herf","onClick","_","setStore","perCourseId","history","replace","BaseComponent"],"mappings":"6dASOA,cACDC,EAAUC,EAAAC,EAAKF,QAMAG,EAJpBC,kBAAQ,SAAAC,GAAA,MAAuB,CAC9BC,MADOD,EAAEC,MAETC,QAFOF,EAASE,QAECC,OAAOF,sNAGxBG,MAAM,CACJC,UAAU,KAQZC,cAAgB,WACdC,EAAKC,kBAAoBC,YAAgB,SAAAC,GACpBH,EAAKH,MAAjBC,WACUK,GACfH,EAAKI,SAAS,CACZN,SAAUK,SAOlBE,mBAAqB,WACnB,IAAMC,EAAWC,IAAGC,SAAS,cAAcF,SACrCG,EAA+C,iBAArCF,IAAGC,SAAS,QAAQE,aAArB,gDAAAC,OACqCL,GADrC,gDAAAK,OAEqCL,GACpDN,EAAKY,MAAMC,SAAS,CAClBC,KAAM,iBACNC,cAAe,SAAAC,GAAI,OAAIA,EAAKC,MAC5BC,QAAS,CACPC,WAAY,aACZC,OAAQ,MACRC,IAAKZ,yFA3BTa,KAAKvB,gBACLuB,KAAKjB,sDA+BE,IAAAkB,EAAAD,KACAE,EAAcF,KAAKV,MAAMlB,MAAzB8B,WACA1B,EAAYwB,KAAKzB,MAAjBC,SACD2B,EAAalB,IAAGC,SAAS,cAS/B,OACEkB,EAAApC,EAAAqC,cAAAC,EAAAtC,EAAA,CAAQuC,UAAU,0BAChBH,EAAApC,EAAAqC,cAACxC,EAAD,KACEuC,EAAApC,EAAAqC,cAAAG,EAAAxC,EAAA,CAAKyC,OAAQ,IACTjC,GACF4B,EAAApC,EAAAqC,cAAAK,EAAA1C,EAAA,CAAK2C,KAAM,GACTP,EAAApC,EAAAqC,cAAAO,EAAA5C,EAAA,CACEuC,UAAU,UACVM,MACET,EAAApC,EAAAqC,cAAA,OACES,IAAI,YACJC,IAAKZ,EAAWa,YAMxBZ,EAAApC,EAAAqC,cAAAK,EAAA1C,EAAA,CAAK2C,KAAMnC,EAAU,EAAG,IACtB4B,EAAApC,EAAAqC,cAAAO,EAAA5C,EAAA,CACEuC,UAAW/B,EAAU,cAAc,wBACnCyC,MAAOd,EAAWe,YAElBd,EAAApC,EAAAqC,cAAA,2CAAUF,EAAWgB,SACpBhB,EAAWiB,gBAIlBhB,EAAApC,EAAAqC,cAACgB,EAAA,gBAAD,KACEjB,EAAApC,EAAAqC,cAAAtC,EAAAC,EAAA,CAAMuC,WAAY/B,GAAY,UAAW8C,iBAAiB,IAAIC,aApCjD,SAACjC,EAAOkC,GAAR,OACnBpB,EAAApC,EAAAqC,cAACgB,EAAA,OAAD,CAAQI,aAAc,IACnB,SAAAC,GAAA,IAAGC,EAAHD,EAAGC,MAAH,OACCvB,EAAApC,EAAAqC,cAACmB,EAADI,OAAAC,OAAA,GAAmBvC,EAAnB,CAA0BqC,MAAKC,OAAAE,EAAA,EAAAF,CAAA,GAAOD,EAAP,CAAcI,OAAQ,WAkCjD3B,EAAApC,EAAAqC,cAACvC,EAAD,CAASkE,IAAI,eAAKC,IAAI,KACpB7B,EAAApC,EAAAqC,cAAA6B,EAAAlE,EAAA,CACEmE,WAAW,aACXC,WAAYlC,EACZmC,WAAY,SAACC,EAAMC,GAAP,OACVnC,EAAApC,EAAAqC,cAAA6B,EAAAlE,EAAMwE,KAAN,KACEpC,EAAApC,EAAAqC,cAAAoC,EAAAzE,EAAA,CAAK0E,MAAM,UAAUH,EAAM,GAD7B,KAEMD,EAAKK,YAAaL,EAAKM,cAF7B,KAIExC,EAAApC,EAAAqC,cAAA,KAAGwC,KAAK,eAAetC,UAAW/B,EAAU,IAAM,cAAesE,QAAS,SAAAC,GAC5E9D,IAAG+D,SAAS,cAAeV,EAAKW,aAChChD,EAAKiD,QAAQC,QAAQ,yBAFnB,gCAxFaC","file":"static/js/12.19a6bad6.chunk.js","sourcesContent":["import React from 'react';\nimport {connect} from 'dva';\nimport {Layout, Card, Row, Col, Tabs, List, Tag} from 'antd';\nimport { StickyContainer, Sticky } from 'react-sticky';\nimport BaseComponent from 'components/BaseComponent';\nimport $$ from 'cmn-utils'\nimport './index.less'\nimport {enquireIsMobile} from '@/utils/enquireScreen';\n\nconst {Content} = Layout;\nconst TabPane = Tabs.TabPane;\n\n@connect(({intro, loading}) => ({\n  intro,\n  loading: loading.models.intro\n}))  //dva connect\nexport default class Intro extends BaseComponent {\n  state={\n    isMobile: false\n  }\n\n  componentDidMount() {\n    this.judgeIsMobile()\n    this.getOneCourseDetail()\n  }\n  //判断是否是手机\n  judgeIsMobile = () => {\n    this.unregisterEnquire = enquireIsMobile(ismobile => {\n      const {isMobile} = this.state;\n      if (isMobile !== ismobile) {\n        this.setState({\n          isMobile: ismobile\n        });\n      }\n    });\n  }\n\n  //获取指定课程详细信息\n  getOneCourseDetail = () => {\n    const courseId = $$.getStore('lessonItem').courseId\n    const resUrl = ($$.getStore('user').userRoleName === \"学生\")\n      ? `http://59.67.107.169:8010/api/student/course/${courseId}`\n      : `http://59.67.107.169:8010/api/teacher/course/${courseId}`\n    this.props.dispatch({\n      type: 'intro/@request',\n      afterResponse: resp => resp.data,\n      payload: {\n        valueField: 'lessonInfo',\n        method: 'GET',\n        url: resUrl\n      }\n    })\n  }\n\n  render() {\n    const {lessonInfo} = this.props.intro\n    const {isMobile} = this.state\n    const courseInfo = $$.getStore('lessonItem')\n    const renderTabBar = (props, DefaultTabBar) => (\n      <Sticky bottomOffset={80}>\n        {({ style }) => (\n          <DefaultTabBar {...props} style={{ ...style, zIndex: 1}} />\n        )}\n      </Sticky>\n    )\n\n    return (\n      <Layout className=\"full-layout intro-page\">\n        <Content>\n          <Row gutter={0}>\n            {!isMobile &&\n            <Col span={8}>\n              <Card\n                className='imgCard'\n                cover={\n                  <img\n                    alt=\"courseImg\"\n                    src={courseInfo.imgUrl}\n                  />\n                }\n              />\n            </Col>\n            }\n            <Col span={isMobile? 8: 16}>\n              <Card\n                className={isMobile? 'contentCard':'contentCard___desktop'}\n                title={courseInfo.courseName}\n              >\n                <h2>课程教师：{courseInfo.teacher}</h2>\n                {courseInfo.introduction}\n              </Card>\n            </Col>\n          </Row>\n          <StickyContainer>\n            <Tabs className={!isMobile && 'tabList'} defaultActiveKey=\"2\" renderTabBar={renderTabBar}>\n              <TabPane tab=\"目录\" key=\"2\">\n                <List\n                  itemLayout=\"horizontal\"\n                  dataSource={lessonInfo}\n                  renderItem={(item, index) => (\n                    <List.Item>\n                      <Tag color=\"purple\">{index+1}</Tag>\n                       | {item.courseTopic}{item.courseRemarks} |\n\n                      <a herf=\"javascript:;\" className={isMobile? 'a' : 'a___desktop'} onClick={_ => {\n                    $$.setStore('perCourseId', item.perCourseId);\n                    this.history.replace('/column/per/comment')\n                  }\n                  }>讨论</a>\n                    </List.Item>\n                  )}\n                />\n              </TabPane>\n              {/*<TabPane tab=\"简介\" key=\"1\" style={{ height: 200 }}>*/}\n                {/*{courseInfo.introduction}*/}\n              {/*</TabPane>*/}\n            </Tabs>\n          </StickyContainer>\n        </Content>\n      </Layout>\n    );\n  }\n}\n"],"sourceRoot":""}