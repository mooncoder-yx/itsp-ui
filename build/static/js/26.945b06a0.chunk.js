(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{1244:function(e,t,a){},1310:function(e,t,a){"use strict";a.r(t),a.d(t,"default",function(){return W});a(348);var n,l=a(90),o=a.n(l),r=(a(112),a(113)),s=a.n(r),c=(a(1238),a(1262)),i=a.n(c),u=(a(790),a(791)),p=a.n(u),m=(a(342),a(227)),f=a.n(m),d=(a(1241),a(1246)),h=a.n(d),C=(a(749),a(750)),E=a.n(C),g=a(14),v=a(15),y=a(24),b=a(22),I=a(23),k=(a(337),a(223)),w=a.n(k),x=(a(338),a(784)),N=a.n(x),O=(a(78),a(31)),S=a.n(O),j=a(0),R=a.n(j),U=a(69),T=a(219),F=(a(1244),a(754)),P=S.a.Content,D=N.a.TextArea,V=w.a.Option,W=Object(U.connect)(function(e){return{preview:e.preview,loading:e.loading.models.login}})(n=function(e){function t(e){var a;return Object(g.a)(this,t),(a=Object(y.a)(this,Object(b.a)(t).call(this,e))).state={inputValue:null,PDF_URL:"",stuWork:"",fileComment:""},a.onChange=function(e){a.setState({inputValue:e})},a.fetchAllCourse=function(){(0,a.props.dispatch)({type:"preview/@request",afterResponse:function(e){return e.data},payload:{valueField:"courseInfo",method:"GET",url:"http://59.67.107.169:8010/api/teacher/allCourseSelect"}})},a.fetchCourseInfo=function(e){console.log("selected ".concat(e)),(0,a.props.dispatch)({type:"preview/@request",afterResponse:function(e){return e.data},payload:{valueField:"courseTimeInfo",method:"GET",url:"http://59.67.107.169:8010/api/teacher/course/"+e}})},a.fetchStuInfo=function(e){console.log("selected ".concat(e)),(0,a.props.dispatch)({type:"preview/@request",afterResponse:function(e){return e.data},payload:{valueField:"stuInfo",method:"GET",url:"http://59.67.107.169:8010/api/teacher/checkIn/"+e}})},a.displayHomework=function(e,t){console.log(t),a.setState({inputValue:Number(e.split("|")[1]),fileComment:e.split("|")[4],stuWork:{PDF_URL:e.split("|")[0],perCourseId:e.split("|")[2],userId:e.split("|")[3]}})},a.changeFileComment=function(e){a.fileCommentInput.focus(),a.setState({fileComment:e.target.value}),a.fileCommentInput.focus()},a.subComment=function(){var e=a.props.dispatch,t=a.state,n=t.stuWork,l=t.inputValue,o=t.fileComment;e({type:"preview/@request",afterResponse:function(e){return 201===e.code?E.a.success(e.message):E.a.error(e.message),e.data},payload:{method:"PUT",url:"http://59.67.107.169:8010/api/teacher/correct",data:{perCourseId:n.perCourseId,userId:n.userId,fileScore:l,fileComment:o}}})},a}return Object(I.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=(t.checked,t.stuWork),n=t.inputValue,l=t.fileComment,r=this.props.preview,c=r.courseInfo,u=r.courseTimeInfo,m=r.stuInfo,d={0:"0\u5206",60:{style:{color:"red"},label:R.a.createElement("strong",null,"60\u5206")},80:{style:{color:"#2db7f5"},label:R.a.createElement("strong",null,"80\u5206")},100:{style:{color:"green"},label:R.a.createElement("strong",null,"100\u5206")}};return R.a.createElement(S.a,{className:"full-layout page preview-page"},R.a.createElement(P,null,R.a.createElement(f.a,{gutter:26},R.a.createElement(o.a,{md:8},R.a.createElement(F.a,{title:"\u9009\u62e9\u4f5c\u4e1a\u76f8\u5173\u4fe1\u606f"},R.a.createElement(w.a,{placeholder:"\u8bf7\u9009\u62e9\u8bfe\u7a0b\u540d\u79f0",onMouseEnter:this.fetchAllCourse,onChange:this.fetchCourseInfo},c.map(function(e){return R.a.createElement(V,{key:e.courseId},e.courseName)})),R.a.createElement(w.a,{placeholder:"\u8bf7\u9009\u62e9\u5bf9\u5e94\u8bfe\u7a0b\u4fe1\u606f",onChange:this.fetchStuInfo},u.map(function(e){return R.a.createElement(V,{key:e.perCourseId},e.courseDate," ",e.courseTime," ",e.courseTopic)})),R.a.createElement(w.a,{placeholder:"\u8bf7\u9009\u62e9\u5b66\u751f",onChange:this.displayHomework},m.map(function(e){return R.a.createElement(V,{key:e.fileUrl+"|"+e.fileScore+"|"+e.perCourseId+"|"+e.userId+"|"+e.fileComment,disabled:".pdf"!==e.fileUrl.substring(e.fileUrl.lastIndexOf("."),e.fileUrl.length)},e.studentName,e.fileUrl.substring(e.fileUrl.lastIndexOf("."),e.fileUrl.length))}))),R.a.createElement(F.a,{title:"\u4f5c\u4e1a\u6279\u6539\u5185\u5bb9",style:{textAlign:"center"}},R.a.createElement(f.a,null,R.a.createElement("div",{className:"sliderDiv"},R.a.createElement(h.a,{marks:d,value:"number"===typeof n?n:0,onChange:this.onChange}))),R.a.createElement(f.a,null,R.a.createElement(p.a,{color:"#2db7f5"},"\u5206\u6570\uff1a"),R.a.createElement(i.a,{id:"inputScore",min:0,max:100,style:{marginLeft:0},value:n,onChange:this.onChange})),R.a.createElement(f.a,null,R.a.createElement(D,{autosize:{minRows:4},className:"commentInput",placeholder:"\u8bf7\u8f93\u5165\u4f5c\u4e1a\u8bc4\u8bed\uff01",value:l,onChange:this.changeFileComment,ref:function(t){return e.fileCommentInput=t}})),R.a.createElement(f.a,null,R.a.createElement(s.a,{onClick:this.subComment},"\u63d0\u4ea4")))),R.a.createElement(o.a,{md:16},R.a.createElement(F.a,{title:"\u4f5c\u4e1a\u9884\u89c8"},R.a.createElement("iframe",{src:a.PDF_URL,seamless:"seamless",frameBorder:"0",scrolling:"no",name:"pdf_show",id:"iframe_pdf"}))))))}}]),t}(T.a))||n},754:function(e,t,a){"use strict";a(751);var n=a(752),l=a.n(n),o=a(41),r=a(14),s=a(15),c=a(24),i=a(22),u=a(23),p=(a(336),a(225)),m=a.n(p),f=a(0),d=a.n(f),h=a(28),C=a(34),E=a.n(C),g=a(82),v=(a(755),m.a.confirm),y=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(i.a)(t).call(this,e))).onExpand=function(e){return function(t){var n=a.props.onChange;a.setState({expand:e,collapse:!1}),n&&n({expand:e,collapse:!1})}},a.onCollapse=function(e){return function(t){var n=a.props.onChange;a.setState({collapse:e,expand:!1}),n&&n({collapse:e,expand:!1})}},a.onRefresh=function(){a.setState({refresh:a.state.refresh+1,animationName:"fadeIn"}),a.props.onRefresh&&a.props.onRefresh()},a.onClose=function(){a.state.expand?v({title:"\u63d0\u793a",content:"\u60a8\u786e\u8ba4\u8981\u5173\u95ed\u8fd9\u4e2a\u9762\u677f\uff1f",onOk:function(){a.props.onClose&&a.props.onClose()}}):a.props.onClose&&a.props.onClose()},a.state={collapse:e.collapse||!1,expand:e.expand||!1,refresh:0,animationName:""},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentWillReceiveProps",value:function(e){var t={};"collapse"in e?t.collapse=!0:"expand"in e&&(t.expand=!0),Object.keys(t).length&&this.setState(t)}},{key:"render",value:function(){var e=this,t=this.state,a=t.expand,n=t.collapse,r=t.refresh,s=t.animationName,c=this.props,i=c.theme,u=c.prefix,p=c.className,m=c.title,f=c.width,C=c.height,v=c.style,y=c.children,b=c.header,I=c.cover,k=c.scroll,w=E()(u,p,{theme:!!i,"panel-fullscreen":!!a,"panel-collapsed":!!n,cover:!!I}),x=Object(o.a)({},v,{width:f}),N={};a||(N.height=C),k&&(N.overflow="auto");var O="undefined"===typeof b?d.a.createElement("div",{className:"".concat(u,"-header")},d.a.createElement("span",{className:"".concat(u,"-header-title")},m),d.a.createElement("span",{className:"".concat(u,"-header-controls")},d.a.createElement("a",{className:"panel-control-fullscreen",onClick:this.onExpand(!a)},d.a.createElement(h.a,{type:"".concat(a?"shrink":"enlarge")})),d.a.createElement("a",{className:"panel-control-collapsed",onClick:this.onCollapse(!n)},d.a.createElement(h.a,{type:"".concat(n?"plus":"minus")})),d.a.createElement(l.a,{title:"\u60a8\u786e\u8ba4\u8981\u5173\u95ed\u8fd9\u4e2a\u9762\u677f\uff1f",onConfirm:this.onClose,placement:"topRight"}))):b;return d.a.createElement("div",{className:w,style:x},O,d.a.createElement("div",{className:"".concat(u,"-body"),style:N},d.a.createElement(g.a,{className:"panel-content",type:s,callback:function(t){return e.setState({animationName:""})},key:r},y)))}}]),t}(f.Component);y.defaultProps={prefix:"antui-panel"},t.a=y},755:function(e,t,a){}}]);
//# sourceMappingURL=26.945b06a0.chunk.js.map