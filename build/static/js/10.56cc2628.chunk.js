(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{1322:function(e,t,a){"use strict";a.r(t);var n,r,o,s=a(14),i=a(15),l=a(24),c=a(22),u=a(23),d=(a(874),a(876)),h=a.n(d),p=(a(78),a(31)),m=a.n(p),f=a(0),y=a.n(f),A=a(41),v=a(985),g=a.n(v),S=a(34),b=a.n(S),O=a(66),j=a(358),z=a.n(j),C=a(10),w=a.n(C),N=w.a.debounce,E=w.a.throttle,k={refreshRate:16,refreshMode:"throttle"},R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t="throttle"===e.refreshMode?E:N;return function(a){return function(n){function r(a){var n;return Object(s.a)(this,r),(n=Object(l.a)(this,Object(c.a)(r).call(this,a))).onResize=function(){var e=n.element.parentNode,t=n.props.onResize,a=getComputedStyle(e),r=a.width,o=a.height,s=a.paddingLeft,i=a.paddingRight,l=a.paddingTop,c=a.paddingBottom,u={width:parseInt(r,10)-parseInt(s,10)-parseInt(i,10),height:parseInt(o,10)-parseInt(l,10)-parseInt(c,10)};n.setState(u),t&&t(u)},n.onResizeStrategy=t(n.onResize,e.refreshRate),n.state={width:void 0,height:void 0,position:void 0},n}return Object(u.a)(r,n),Object(i.a)(r,[{key:"componentDidMount",value:function(){var e=this.element.parentNode;this.resizeSensor=new z.a(e,this.onResizeStrategy),this.onResizeStrategy()}},{key:"componentWillUnmount",value:function(){var e=this.element.parentNode;this.resizeSensor.detach(e,this.onResizeStrategy)}},{key:"render",value:function(){var e=this,t=this.state,n=t.width,r=t.height,o=this.props,s=o.className,i=Object(O.a)(o,["className"]);return y.a.createElement("div",{ref:function(t){return e.element=t},style:{position:"relative",width:"100%",height:"100%"},className:s},n&&r?y.a.createElement(a,Object.assign({},i,{size:Object(A.a)({},this.state)})):null)}}]),r}(f.PureComponent)}},I=a(800),B=a.n(I),W=(a(990),R({refreshRate:50})((o=r=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(r)))).onLayoutComplete=function(e){var t=a.props.onLayout;t&&t(e,a.msnry)},a.renderItem=function(e){var t=a.props,n=t.render,r=t.columnWidth,o=t.gutter,s=t.itemStyle,i=n||function(e){return e},l={width:r};return o&&(l.marginBottom=o),e.map(function(e,t){return y.a.createElement("div",{key:t,className:"antui-waterfall-item",style:Object(A.a)({},l,s)},i(e,t))})},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.columnWidth,a=e.gutter,n=e.horizontalOrder,r=e.percentPosition,o=e.fitWidth,s=e.getInstance;this.msnry=new g.a(this.node,{itemSelector:".antui-waterfall-item",columnWidth:"string"===typeof t?".antui-waterfall-item":t,gutter:a,horizontalOrder:n,percentPosition:r,fitWidth:o}),this.msnry.on("layoutComplete",this.onLayoutComplete),s&&s(this.msnry)}},{key:"componentDidUpdate",value:function(e,t){B()(e.size,this.props.size)||this.msnry.layout()}},{key:"componentWillUnmount",value:function(){this.msnry.off("layoutComplete",this.onLayoutComplete),this.msnry.destroy()}},{key:"render",value:function(){var e=this,t=this.props,a=t.prefixCls,n=t.className,r=t.dataSource,o=t.style,s=b()(a,n);return y.a.createElement("div",{ref:function(t){return e.node=t},className:s,style:o},this.renderItem(r))}}]),t}(f.PureComponent),r.defaultProps={prefixCls:"antui-waterfall"},n=o))||n),L=a(992),P=a.n(L),D=(a(993),function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(r)))).componentDidUpdate=function(){P.a&&(P.a.hC(a.node,"lazyloaded")||P.a.hC(a.node,"lazyload")||P.a.aC(a.node,"lazyload"))},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentWillUpdate",value:function(e){for(var t=!1,a=["src","dataSizes","dataSrc","dataSrcSet","className","iframe"],n=0;n<a.length;n++){var r=a[n];if(("dataSrcSet"===r?this.handleSrcSet(this.props[r]):this.props[r])!==("dataSrcSet"===r?this.handleSrcSet(e[r]):e[r])){t=!0;break}}t&&P.a&&P.a.hC(this.node,"lazyloaded")&&P.a.rC(this.node,"lazyloaded")}},{key:"handleSrcSet",value:function(e){return w.a.isArray(e)?e.join(","):"string"===typeof e?e:null}},{key:"componentWillUnmount",value:function(){this.node.src=""}},{key:"onError",value:function(e){e.target.classList.add("lazyerror"),e.target.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"}},{key:"render",value:function(){var e=this,t=this.props,a=t.prefixCls,n=t.src,r=t.dataSizes,o=t.dataSrc,s=t.dataSrcSet,i=t.className,l=t.iframe,c=t.title,u=t.alt,d=Object(O.a)(t,["prefixCls","src","dataSizes","dataSrc","dataSrcSet","className","iframe","title","alt"]),h=b()(a,"lazyload",i),p=Object(A.a)({},d,{src:n});return o&&(p["data-src"]=o),r&&(p["data-sizes"]=r),s&&(p["data-srcset"]=this.handleSrcSet(s)),l?y.a.createElement("iframe",Object.assign({ref:function(t){return e.node=t},className:h,title:c,frameBorder:"0"},p)):y.a.createElement("img",Object.assign({ref:function(t){return e.node=t},className:h,alt:u,onError:this.onError},p))}}]),t}(f.Component));D.defaultProps={src:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",dataSizes:"auto",iframe:!1,prefixCls:"antui-lazyload"};var U,M=D,x=a(219),G=(a(995),a(69));a.d(t,"default",function(){return J});var F=m.a.Content,H=h.a.Meta,J=Object(G.connect)(function(e){return{lessons:e.lessons,loading:e.loading.models.lessons}})(U=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(r)))).state={dataSrc:"",visible:!1,allCourse:[],lessonSource:[]},a.onClose=function(){a.setState({visible:!1})},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){w.a.removeStore("lessonItem"),this.getAllCourseNames();var e=this;document.addEventListener("lazybeforeunveil",function(t){t.target;e.water.layout()})}},{key:"getAllCourseNames",value:function(){var e=this.props,t=e.dispatch;e.lessons;t({type:"lessons/@request",afterResponse:function(e){return e.data},payload:{valueField:"courseNames",method:"GET",url:"\u5b66\u751f"===w.a.getStore("user").userRoleName?"http://192.168.43.191:8010/api/student/allCourseSelect":"http://192.168.43.191:8010/api/teacher/allCourseSelect"}})}},{key:"render",value:function(){var e=this,t=this.props.lessons.courseNames;return y.a.createElement(m.a,{className:"full-layout page lessons-page"},y.a.createElement(F,null,y.a.createElement(W,{ref:"waterFall",className:"gallery-water-fall",dataSource:t,columnWidth:240,fitWidth:!0,gutter:16,getInstance:function(t){return e.water=t},render:function(t){return y.a.createElement(h.a,{hoverable:!0,cover:y.a.createElement(M,{dataSrc:t.imgUrl,onClick:function(a){e.props.dispatch({type:"lessons/change",payload:{item:t}}),w.a.setStore("lessonItem",t),e.history.replace("/column/intro/")}})},y.a.createElement(H,{description:t.courseName}))}})))}}]),t}(x.a))||U},990:function(e,t,a){},993:function(e,t,a){},995:function(e,t,a){}}]);
//# sourceMappingURL=10.56cc2628.chunk.js.map