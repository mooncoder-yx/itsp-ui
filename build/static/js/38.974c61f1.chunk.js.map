{"version":3,"sources":["routes/Home/components/index.js","components/Panel/Panel.js"],"names":["Content","Home","connect","state","notifyData","commentData","isMobile","judgeIsMobile","_this","unregisterEnquire","enquireIsMobile","ismobile","setState","getNotify","sendUrl","$$","getStore","userRoleName","get","then","resp","data","getComment","forEach","item","index","push","this","_this$state","react__WEBPACK_IMPORTED_MODULE_19___default","a","createElement","antd_lib_layout__WEBPACK_IMPORTED_MODULE_18___default","className","antd_lib_carousel__WEBPACK_IMPORTED_MODULE_11___default","autoplay","antd_lib_row__WEBPACK_IMPORTED_MODULE_1___default","gutter","style","marginTop","antd_lib_col__WEBPACK_IMPORTED_MODULE_7___default","md","_components_Panel_Panel__WEBPACK_IMPORTED_MODULE_23__","title","height","antd_lib_list__WEBPACK_IMPORTED_MODULE_9___default","paddingLeft","itemLayout","dataSource","renderItem","Item","Meta","href","notifyTime","description","notifyContent","antd_lib_timeline__WEBPACK_IMPORTED_MODULE_3___default","map","dot","antd_lib_icon__WEBPACK_IMPORTED_MODULE_5___default","type","fontSize","topicCreatedTime","topicUserId","topicContent","BaseComponent","confirm","antd_lib_modal__WEBPACK_IMPORTED_MODULE_9___default","Panel","props","Object","D_reactProject_itsp_tmp_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_3__","D_reactProject_itsp_tmp_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__","D_reactProject_itsp_tmp_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__","call","onExpand","expand","e","onChange","collapse","onCollapse","onRefresh","refresh","animationName","onClose","content","onOk","nextProps","st","keys","length","_this2","_this$props","theme","prefix","width","children","header","cover","scroll","classnames","cx","panel-fullscreen","panel-collapsed","styles","D_reactProject_itsp_tmp_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_2__","bodyStyles","overflow","Header","react__WEBPACK_IMPORTED_MODULE_10___default","concat","onClick","_Icon__WEBPACK_IMPORTED_MODULE_11__","antd_lib_popconfirm__WEBPACK_IMPORTED_MODULE_1___default","onConfirm","placement","_CSSAnimate__WEBPACK_IMPORTED_MODULE_13__","callback","_","key","Component","defaultProps"],"mappings":"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","file":"static/js/38.974c61f1.chunk.js","sourcesContent":["import React from 'react';\r\nimport {connect} from 'dva';\r\nimport {Carousel, Layout, Row, Col, Timeline, Icon, Divider, List} from 'antd';\r\nimport BaseComponent from 'components/BaseComponent';\r\nimport './index.less';\r\nimport Panel from \"../../../components/Panel/Panel\";\r\nimport $$ from \"cmn-utils/lib\";\r\nimport {enquireIsMobile} from '@/utils/enquireScreen';\r\n\r\nconst {Content} = Layout;\r\n\r\n@connect()  //dva connect\r\nexport default class Home extends BaseComponent {\r\n  state = {\r\n    notifyData: [],\r\n    commentData: [],\r\n    isMobile: false\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.getNotify()\r\n    this.getComment()\r\n    this.judgeIsMobile()\r\n  }\r\n\r\n  //判断是否是手机\r\n  judgeIsMobile = () => {\r\n    this.unregisterEnquire = enquireIsMobile(ismobile => {\r\n      const {isMobile} = this.state;\r\n      if (isMobile !== ismobile) {\r\n        this.setState({\r\n          isMobile: ismobile\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  //获取最近课程通知\r\n  getNotify = () => {\r\n    let sendUrl = $$.getStore('user').userRoleName === '学生'\r\n      ? 'http://59.67.107.169:8010/api/student/getNotify'\r\n      : 'http://59.67.107.169:8010/api/teacher/getNotify'\r\n    $$.get(sendUrl).then(\r\n      resp => {\r\n        this.setState({\r\n          notifyData: resp.data\r\n        })\r\n      }\r\n    )\r\n  }\r\n\r\n  //获取最新评论\r\n  getComment = () => {\r\n    $$.get('http://59.67.107.169:8010/api/topic/queryByUserId/T000000001').then(\r\n      resp => {\r\n        let data = []\r\n        resp.data.forEach((item,index) => {\r\n          if(index <4) {\r\n            data.push(item)\r\n          }\r\n        })\r\n        this.setState({\r\n          commentData: data\r\n        })\r\n      }\r\n    )\r\n  }\r\n\r\n  render() {\r\n    const {notifyData, commentData, isMobile} = this.state\r\n    return (\r\n      <Layout className=\"full-layout page home-page\">\r\n        <Content>\r\n          <Carousel autoplay  className={isMobile? 'ant-carousel slick-slide': ''}>\r\n            <div className='back-one'><div className='image-one'><h3>1</h3></div></div>\r\n            <div className='back-two'><div className='image-two'><h3>2</h3></div></div>\r\n            <div className='back-three'><div className='image-three'><h3>3</h3></div></div>\r\n          </Carousel>\r\n          <Row gutter={26} style={{marginTop: '20px'}}>\r\n            <Col md={12}>\r\n              <Panel title=\"课程信息通知\" height={300}>\r\n                <List\r\n                  style={{paddingLeft: '40px'}}\r\n                  itemLayout=\"horizontal\"\r\n                  dataSource={notifyData}\r\n                  renderItem={item => (\r\n                    <List.Item>\r\n                      <List.Item.Meta\r\n                        // avatar={<Avatar src=\"https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png\" />}\r\n                        title={<a href=\"https://ant.design\">{item.notifyTime}</a>}\r\n                        description={item.notifyContent}\r\n                      />\r\n                    </List.Item>\r\n                  )}\r\n                />\r\n              </Panel>\r\n            </Col>\r\n            <Col md={12}>\r\n              <Panel title=\"最新评论信息\" height={300}>\r\n                <Timeline style={{marginTop: '20px', paddingLeft: '40px'}}>\r\n                  {commentData.map((item, index) =>\r\n                    <Timeline.Item dot={<Icon type=\"clock-circle-o\" style={{fontSize: '16px'}}/>}>\r\n                    {item.topicCreatedTime}<br/>\r\n                    {item.topicUserId}发布留言：{item.topicContent}\r\n                    </Timeline.Item>)}\r\n                </Timeline>\r\n              </Panel>\r\n            </Col>\r\n          </Row>\r\n        </Content>\r\n      </Layout>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from 'react';\nimport Icon from '../Icon';\nimport cx from 'classnames';\nimport CSSAnimate from '../CSSAnimate';\nimport { Popconfirm, Modal } from 'antd';\nimport './style/index.less';\nconst confirm = Modal.confirm;\nconst noop = _ => {};\n/**\n * 面板组件\n */\nclass Panel extends Component {\n  static defaultProps = {\n    prefix: 'antui-panel'\n  };\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      collapse: props.collapse || false,\n      expand: props.expand || false,\n      refresh: 0,\n      animationName: ''\n    };\n  }\n\n  componentWillReceiveProps(nextProps) {\n    const st = {};\n    if ('collapse' in nextProps) {\n      st.collapse = true;\n    } else if ('expand' in nextProps) {\n      st.expand = true;\n    }\n    if (Object.keys(st).length) {\n      this.setState(st);\n    }\n  }\n\n  onExpand = expand => e => {\n    const { onChange } = this.props;\n\n    this.setState({\n      expand,\n      collapse: false\n    });\n\n    if (onChange) {\n      onChange({\n        expand,\n        collapse: false\n      });\n    }\n  };\n\n  onCollapse = collapse => e => {\n    const { onChange } = this.props;\n\n    this.setState({\n      collapse,\n      expand: false\n    });\n\n    if (onChange) {\n      onChange({\n        collapse,\n        expand: false\n      });\n    }\n  };\n\n  onRefresh = () => {\n    this.setState({\n      refresh: this.state.refresh + 1,\n      animationName: 'fadeIn'\n    });\n    this.props.onRefresh && this.props.onRefresh();\n  };\n\n  onClose = () => {\n    const { expand } = this.state;\n    if (expand) {\n      confirm({\n        title: '提示',\n        content: '您确认要关闭这个面板？',\n        onOk: () => {\n          this.props.onClose && this.props.onClose();\n        }\n      });\n    } else {\n      this.props.onClose && this.props.onClose();\n    }\n  };\n\n  render() {\n    const { expand, collapse, refresh, animationName } = this.state;\n    const {\n      theme,\n      prefix,\n      className,\n      title,\n      width,\n      height,\n      style,\n      children,\n      header,\n      cover,\n      scroll,\n    } = this.props;\n\n    const classnames = cx(prefix, className, {\n      theme: !!theme,\n      'panel-fullscreen': !!expand,\n      'panel-collapsed': !!collapse,\n      cover: !!cover\n    });\n\n    const styles = {\n      ...style,\n      width\n    };\n    const bodyStyles = {};\n    if (!expand) {\n      bodyStyles.height = height;\n    }\n    if (scroll) {\n      bodyStyles.overflow = 'auto';\n    }\n\n    const Header =\n      typeof header === 'undefined' ? (\n        <div className={`${prefix}-header`}>\n          <span className={`${prefix}-header-title`}>{title}</span>\n          <span className={`${prefix}-header-controls`}>\n            {/*<a className=\"panel-control-loader\" onClick={this.onRefresh}>*/}\n              {/*<Icon type=\"refresh\" />*/}\n            {/*</a>*/}\n            <a\n              className=\"panel-control-fullscreen\"\n              onClick={this.onExpand(expand ? false : true)}\n            >\n              <Icon type={`${expand ? 'shrink' : 'enlarge'}`} />\n            </a>\n            <a\n              className=\"panel-control-collapsed\"\n              onClick={this.onCollapse(collapse ? false : true)}\n            >\n              <Icon type={`${collapse ? 'plus' : 'minus'}`} />\n            </a>\n            <Popconfirm\n              title=\"您确认要关闭这个面板？\"\n              onConfirm={this.onClose}\n              placement=\"topRight\"\n            >\n              {/*<a*/}\n                {/*className=\"panel-control-remove\"*/}\n                {/*onClick={expand ? this.onClose : noop}*/}\n              {/*>*/}\n                {/*<Icon type=\"close\" />*/}\n              {/*</a>*/}\n            </Popconfirm>\n          </span>\n        </div>\n      ) : (\n        header\n      );\n\n    return (\n      <div className={classnames} style={styles}>\n        {Header}\n        <div className={`${prefix}-body`} style={bodyStyles}>\n          <CSSAnimate\n            className=\"panel-content\"\n            type={animationName}\n            callback={_ => this.setState({ animationName: '' })}\n            key={refresh}\n          >\n            {children}\n          </CSSAnimate>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Panel;\n"],"sourceRoot":""}